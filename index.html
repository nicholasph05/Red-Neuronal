<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Red Neuronal - Goles Totales</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f3f4f6;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .card {
      background-color: white;
      width: 380px;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.1);
      text-align: center;
    }
    .card h2 {
      margin-top: 0;
      margin-bottom: 10px;
      font-size: 22px;
      font-weight: bold;
    }
    .card p {
      margin: 0 0 10px 0;
      font-size: 14px;
      color: #6b7280;
    }
    select, input {
      width: 100%;
      padding: 12px;
      margin-top: 12px;
      border: 1px solid #d1d5db;
      border-radius: 10px;
      font-size: 16px;
      background-color: #f9fafb;
      outline: none;
    }
    select:focus, input:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 1px rgba(37,99,235,0.3);
      background-color: #ffffff;
    }
    button {
      margin-top: 20px;
      padding: 12px;
      width: 100%;
      background-color: #10b981;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover { background-color: #059669; }
    .resultado {
      margin-top: 20px;
      padding: 12px;
      background: #f1f5f9;
      border-radius: 10px;
      font-size: 16px;
    }
    .nota {
      margin-top: 10px;
      font-size: 12px;
      color: #9ca3af;
      text-align: left;
    }
  </style>
</head>
<body>

<div class="card">
  <h2>Red Neuronal - Goles Totales</h2>
  <p>Modelo de una sola capa Dense entrenado con resultados reales.</p>

  <input type="number" id="year" placeholder="Año del partido (ej: 2022)">

  <select id="neutral">
    <option value="">Campo neutral</option>
    <option value="0">No (hay local)</option>
    <option value="1">Sí (neutral)</option>
  </select>

  <select id="worldcup">
    <option value="">¿Es partido de Mundial?</option>
    <option value="0">No</option>
    <option value="1">Sí</option>
  </select>

  <select id="friendly">
    <option value="">¿Es amistoso?</option>
    <option value="0">No</option>
    <option value="1">Sí</option>
  </select>

  <button onclick="predecir()">Calcular goles</button>

  <div id="resultado" class="resultado">
    Ingrese los datos y presione "Calcular goles".
  </div>

  <div class="nota">
    La red neuronal recibe 4 entradas (año, campo neutral, mundial, amistoso)
    y predice el número esperado de goles totales (local + visitante). Es una
    red de una sola capa Dense, similar al ejemplo de Celsius a Fahrenheit.
  </div>
</div>

<script>
  // Pesos aprendidos en Python:
  // const W = [-0.0020258822478353977, 0.029492627829313278,
  //            -0.06968951970338821, -0.04232977703213692];
  // const B = 6.623144626617432;

  const W = [
    -0.0020258822478353977,  // peso para year
     0.029492627829313278,   // peso para neutral
    -0.06968951970338821,    // peso para is_world_cup
    -0.04232977703213692     // peso para is_friendly
  ];
  const B = 6.623144626617432;

  function redNeuronal(year, neutral, is_world_cup, is_friendly) {
    // y = B + w0*year + w1*neutral + w2*worldcup + w3*friendly
    return B
      + W[0] * year
      + W[1] * neutral
      + W[2] * is_world_cup
      + W[3] * is_friendly;
  }

  function predecir() {
    const year     = parseFloat(document.getElementById("year").value);
    const neutral  = parseFloat(document.getElementById("neutral").value);
    const worldcup = parseFloat(document.getElementById("worldcup").value);
    const friendly = parseFloat(document.getElementById("friendly").value);

    if (
      Number.isNaN(year) ||
      Number.isNaN(neutral) ||
      Number.isNaN(worldcup) ||
      Number.isNaN(friendly)
    ) {
      document.getElementById("resultado").innerHTML =
        "⚠️ Complete todos los campos antes de calcular.";
      return;
    }

    const goles = redNeuronal(year, neutral, worldcup, friendly);
    const golesRedondeados = Math.max(0, goles).toFixed(2);

    document.getElementById("resultado").innerHTML =
      `<b>Goles totales esperados:</b> ${golesRedondeados}`;
  }
</script>

</body>
</html>
